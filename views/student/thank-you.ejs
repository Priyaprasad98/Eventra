<%- include('../partials/head') %>
<body class="bg-gray-50">

  <%- include('../partials/nav') %>
  
  <!-- Main Section with Background -->
  <main class="relative flex justify-center items-center min-h-screen px-4 sm:px-6 lg:px-8 pt-28"
        style="background-image: url('/final.jpg'); background-size: cover; background-position: center; background-repeat: no-repeat;">

    <!-- Dark overlay for subtle contrast -->
    <div class="absolute inset-0 bg-black/20 z-0"></div>
    
    
    <!-- Thank You Card -->
    <div class="relative z-10 w-full max-w-lg bg-white rounded-3xl shadow-2xl p-8 sm:p-10 opacity-0 translate-y-5 transition-all duration-700 ease-out">
      <h1 class="text-4xl font-bold text-purple-900 mb-6">Thank You, <%= studentName %>!</h1>

      <p class="text-gray-700 mb-2">You have successfully registered for:</p>

      <div class="bg-purple-50 p-5 rounded-xl mb-6">
        <h2 class="text-2xl font-semibold text-purple-800 mb-2"><%= event.name %></h2>
        <p>📅 Date: <%= event.startDate.toDateString() %></p>
        <p>🕒 Time: <%= event.startDate.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}) %></p>
        <p>📍 Venue: <%= event.venue %></p>
      </div>

      <p class="text-gray-600 mb-2">
        Registration details for: <strong><%= studentName %> (<%= studentEmail %>)</strong>
      </p>

      <p class="text-gray-600 mb-4">
        A confirmation email has been sent to <strong><%= studentEmail %></strong>. Please check your inbox for details.
      </p>

      <div class="flex justify-center gap-4">
        <a href="/events" class="inline-block mt-2 px-6 py-3 bg-purple-900 text-white rounded-xl hover:bg-purple-950 transition">
          Back to Events
        </a>
        <a href="/" class="inline-block mt-2 px-6 py-3 bg-gray-700 text-white rounded-xl hover:bg-gray-900 transition">
          Go to Home
        </a>
      </div>
    </div>
  </main>
   <script>
    const formBox = document.querySelector('.relative.z-10');
    window.addEventListener("DOMContentLoaded", () => {
      requestAnimationFrame(() => {
        formBox.classList.remove("opacity-0", "translate-y-5");
        formBox.classList.add("opacity-100", "translate-y-0");
      });
    });

        const toast = document.querySelector('#notification > div');
    if(toast) {
      // Slide up and fade in
      requestAnimationFrame(() => {
        toast.classList.remove('opacity-0', 'translate-y-8');
        toast.classList.add('opacity-100', 'translate-y-0');
      });

      // Stay for 3s, then slide down and fade out
      setTimeout(() => {
        toast.classList.remove('opacity-100', 'translate-y-0');
        toast.classList.add('opacity-0', 'translate-y-8');
        setTimeout(() => toast.parentElement.remove(), 500); // Remove from DOM
      }, 3000);
    }
  
  </script>
</body>
</html>
